!function(i){"use strict";var n=i(window),o=function(){var e=jQuery(".exp-form-border-with-underline, .exp-form-rounded-with-underline");if(0<e.length){var t=e.find('input[type = "text"],                         input[type = "email"],                         input[type = "number"],                        textarea,                                      select'),a=t.filter(function(){return"select"===this.tagName.toLowerCase()}),n=t.not(a);0<t.length&&(t.each(function(e){var t,a,n;(e=i(this)).parent().hasClass("exp-form-field")||(t=i('<div class = "exp-form-field"></div>'),n=i('<div class = "exp-form-border"></div>'),e.wrap(t),null!=e.attr("placeholder")&&(a=i('<label class = "exp-form-field-label">'+e.attr("placeholder")+"</label>"),e.attr("placeholder",""),e.parent().append(a)),e.parent().append(n))}),t.each(function(){var e=jQuery(this);""!==e.val()&&e.closest(".exp-form-field").addClass("exp-form-field-active")}),n.focus(function(){jQuery(this).closest(".exp-form-field").addClass("exp-form-field-active")}),n.blur(function(){var e=jQuery(this);""==e.val()&&e.closest(".exp-form-field").removeClass("exp-form-field-active")}),a.on("change",function(){var e=jQuery(this);""==e.val()?e.closest(".exp-form-field").removeClass("exp-form-field-active"):e.closest(".exp-form-field").addClass("exp-form-field-active")}))}},e=(i(document).on("click",".exp-mc-submit",function(e){e.preventDefault();var t=i(this),a=i("#ajax_url").val(),n=t.closest(".exp-mc-form"),o=n.find(".subscribe_status"),r=n.find(".exp-subscribe-loader");return n.addClass("exp-mc-form-loading"),r.fadeIn(),jQuery.ajax({type:"POST",url:a,dataType:"json",data:"action=mailchimp_subscription&"+jQuery(this).closest(".exp-mc-form").serialize(),success:function(e){"error"===e.status?o.removeClass("tatsu-success").addClass("tatsu-error"):o.addClass("tatsu-success").removeClass("tatsu-error"),r.fadeOut(400,"swing",function(){o.html(e.data).slideDown(),n.removeClass("exp-mc-form-loading")})},error:function(){r.fadeOut(400,"swing",function(){o.removeClass("tatsu-success").addClass("tatsu-error"),o.html("Please Try Again Later").slideDown(),n.removeClass("exp-mc-form-loading")})}}),!1}),function(){var e=jQuery(".exp-mc");0<e.length&&e.each(function(){var e=i(this);e.parent().width()<e.find(".exp-mc-email").outerWidth(!0)+e.find(".exp-mc-submit").outerWidth()?e.addClass("exp-mc-block"):e.removeClass("exp-mc-block")})}),r=function(){var e,r,t=i(".be-vimeo-embed"),a=i(".be-youtube-embed");r=function(e){asyncloader.require(["fitvids"],function(){null!=e&&0<e.length&&(e.closest(".be-video-embed").removeClass("be-embed-placeholder"),e.parent().fitVids(),i(document).trigger("be_video_loaded",[e]),i(".exp-blog .be-grid").isotope("layout"))})},e=function(){a.each(function(){var e=i(this),t=null,a=null!=e.attr("data-video-id")?e.attr("data-video-id"):null,n=null!=e.attr("data-autoplay")?parseInt(e.attr("data-autoplay")):null,o=null!=e.attr("data-loop")?parseInt(e.attr("data-loop")):null;null!=a&&(t=new YT.Player(this,{videoId:a,playerVars:{autoplay:n,loop:o,playlist:o?a:""},width:e.width(),height:e.width()/1.7777,events:{onReady:function(e){n&&e.target.mute()}}}),r(i(t.getIframe())))})},0<t.length&&asyncloader.require(["vimeonew"],function(){t.each(function(){var e=i(this),t=isNaN(Number(e.attr("data-video-id")))?null:Number(e.attr("data-video-id")),a=null!=e.attr("data-autoplay")&&parseInt(e.attr("data-autoplay")),n=null!=e.attr("data-loop")&&parseInt(e.attr("data-loop"));null!=t&&new Vimeo.Player(this,{id:t,autoplay:!!a,loop:!!n,muted:!!a,width:e.width(),height:Math.ceil(e.width()/1.7777)}).ready().then(function(){r(e.children("iframe"))})})}),0<a.length&&("undefined"!=typeof YT&&"function"==typeof YT.Player?e():i(document).on("YTAPIReady",e))},l=function(e){var t=i(e||".be-slider");0<t.length&&asyncloader.require("flickity",function(){t.each(function(){var e,t,a=jQuery(this);a.hasClass("flickity-enabled")||("1"!=a.attr("data-arrows")&&"1"!=a.attr("data-dots")||((t=function(e){var t,a;if(e instanceof i&&0<e.length)return t=isNaN(Number(e.attr("data-cols")))?1:Number(e.attr("data-cols")),a=e.find(".be-slide").length,1024<n.width()?t<a:767<n.width()?2<a:1<a})(e=a)||e.addClass("be-slider-hide-nav"),n.on("debouncedresize",function(){t(e)?e.removeClass("be-slider-hide-nav"):e.addClass("be-slider-hide-nav")})),"1"==a.attr("data-arrows")&&"1"==a.attr("data-outer-arrows")&&function(e){if(e instanceof i&&0<e.length&&!e.hasClass("be-slider-with-margin")&&100<n.width()-e.outerWidth()){var t=isNaN(e.attr("data-gutter"))?0:Number(e.attr("data-gutter"))/2;e.css({padding:"0 50px",margin:"0 -"+(t+50)+"px"})}}(a),"1"==a.attr("data-equal-height")&&function(e){if(e instanceof i&&0<e.length){var t=0,a=e.find(".be-slide");a.each(function(){var e=i(this);t<e.height()&&(t=e.height())}),a.height(t),e.addClass("be-equal-height-slider")}}(a),a.flickity({cellAlign:null!=a.attr("data-cell-align")?a.attr("data-cell-align"):"left",contain:!0,lazyLoad:"1"==a.attr("data-lazy-load")&&function(e){var t=1;if(e instanceof i&&0<e.length){var a=isNaN(Number(e.attr("data-cols")))?1:Number(e.attr("data-cols"));1<a&&(t=a-1)}return t}(a),adaptiveHeight:"1"==a.attr("data-adaptive-height"),pageDots:"1"==a.attr("data-dots"),prevNextButtons:"1"==a.attr("data-arrows"),asNavFor:null!=a.attr("data-as-nav-for")&&a.attr("data-as-nav-for"),autoPlay:!isNaN(Number(a.attr("data-auto-play")))&&Number(a.attr("data-auto-play")),wrapAround:"1"==a.attr("data-infinite")}))})})},d=function(){asyncloader.require(["isotope","begrid"],function(){jQuery('.be-grid[data-layout="metro"],.be-grid[data-layout="masonry"]').each(function(){new BeGrid(this)})})},s=function(e){var t=jQuery(".exp-countdown"),a=function(e){return new Date(e.replace(/-/g,"/"))},n=exponentModulesConfig.dependencies.countdownLangFile?["countdown","countdownLangFile"]:"countdown";e?t.each(function(){var e=jQuery(this),t=a(e.attr("data-time"));e.countdown("option","until",t)}):0<t.length&&asyncloader.require(n,function(){t.each(function(){var e=jQuery(this),t=a(e.attr("data-time"));e.countdown({until:t})})})};!function(){if(null!=exponentModulesConfig&&null!=exponentModulesConfig.dependencies){var e=exponentModulesConfig.dependencies;for(var t in e)asyncloader.register(e[t],t)}}(),i(function(){null!=asyncloader&&(o(),i(window).on("tatsu_update",function(e,t){if(null!=t){var a=t.moduleName,n=(t.shouldUpdate,t.moduleId);null!=a&&null!=n&&("exp_contact_form7"===a?o():"exp_recent_posts"===a?l(".exp-recent-posts .be-slider"):"exp_featured_posts"===a?l(".exp-featured-posts .be-slider"):"blog"===a?(d(),l(".exp-blog .be-slider"),r(".exp-blog .be-slider")):"exp_countdown"===a&&s())}}),i(".mobx").length&&asyncloader.require("modulobox",function(){if("object"!=typeof window.mobx){var n=new ModuloBox({mediaSelector:".mobx"});n.init(),n.on("sliderSettled.modulobox",function(e){var t=this.gallery.index;"HTML"===this.gallery[t].type&&n.getGalleries()}),n.on("afterOpen.modulobox",function(e,t){var a=this.gallery.index;"HTML"===this.gallery[a].type&&n.getGalleries()}),window.mobx=n}else"function"==typeof window.mobx.getGalleries&&window.mobx.getGalleries()}),l(),d(),e(),s())})}(jQuery);